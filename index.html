<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine</title>

<style>
body{
    margin:0;
    background:#ffdde1;
    font-family:Arial, sans-serif;
    text-align:center;
}

.container{
    margin-top:50px;
}

h1{
    font-size:50px;
}

img{
    width:300px;
    border-radius:20px;
    margin-top:20px;
}

.buttons{
    margin-top:30px;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:15px;
}

button{
    font-size:25px;
    padding:15px 30px;
    border:none;
    border-radius:15px;
    cursor:pointer;
    white-space:nowrap;
}

.yes{
    background:#4CAF50;
    color:white;
}

.no{
    background:#ff4d4d;
    color:white;
    min-width:180px;
}
</style>

</head>

<body>

<div class="container">

<h1 id="title">Vrei sa fii Valentine-ul meu?</h1>

<img id="mainImg" src="img1.jpg">

<div class="buttons">
<button class="yes" id="yesBtn">DA</button>
<button class="no" id="noBtn">NU</button>
</div>

</div>

<script type="module">

/* ===== FIREBASE IMPORT ===== */
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

/* ===== FIREBASE CONFIG (AL TAU) ===== */
const firebaseConfig = {
  apiKey: "AIzaSyAuWWPvJeHb-gVDrrqP0MWjsax355ziDtk",
  authDomain: "viki-8df39.firebaseapp.com",
  projectId: "viki-8df39",
  storageBucket: "viki-8df39.firebasestorage.app",
  messagingSenderId: "931316189166",
  appId: "1:931316189166:web:3adc084105079a936630ff",
  measurementId: "G-BGXMNV13RQ"
};

/* ===== INIT FIREBASE ===== */
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

/* ===== SITE CODE ===== */

let yesBtn = document.getElementById("yesBtn");
let noBtn = document.getElementById("noBtn");
let img = document.getElementById("mainImg");
let title = document.getElementById("title");

let yesSize = 1;

let noTexts = [
    "sei sicura?",
    "amoreeeee?",
    "iubiii daiiiii",
    "Te roggg ðŸ¥º",
    "ðŸ’˜ðŸ’˜ðŸ’”",
    "Ultima sansa...",
    "ðŸ˜¢ðŸ˜¢ðŸ˜¢ðŸ˜¢"
];

let textIndex = 0;

/* ===== SAVE FUNCTION ===== */
async function saveAnswer(answer){
    try{
        await addDoc(collection(db,"answers"),{
            answer: answer,
            time: new Date().toISOString()
        });
    }catch(e){
        console.log(e);
    }
}

/* ===== CLICK NU ===== */
noBtn.addEventListener("click", async ()=>{

    yesSize += 0.5;
    yesBtn.style.transform = "scale(" + yesSize + ")";

    if(textIndex < noTexts.length){
        noBtn.innerText = noTexts[textIndex];
        textIndex++;
    }

    await saveAnswer("NU");
});

/* ===== CLICK DA ===== */
yesBtn.addEventListener("click", async ()=>{

    await saveAnswer("DA");

    img.src = "img2.jpg";
    title.innerText = "LETSSSSSSS GOOOOOOOOOO ðŸ’˜ðŸ’˜";

    document.querySelector(".buttons").style.display="none";
});

</script>

</body>
</html>
